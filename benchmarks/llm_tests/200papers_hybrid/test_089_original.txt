P T x k =1 exp ( e ik ) ; (6) where e ij = a ( s i  1 ; h j ) is an alignment model which scores how well the inputs around position j and the output at position i match. The score is based on the RNN hidden state s i  1 (just before emitting y i , Eq. (4)) and the j -th annotation h j of the input sentence. We parametrize the alignment model a as a feedforward neural network which is jointly trained with all the other components of the proposed system. Note that unlike in traditional machine translation, 3